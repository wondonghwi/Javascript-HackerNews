const container=document.getElementById("root"),ajax=new XMLHttpRequest,NEWS_URL="https://api.hnpwa.com/v0/news/1.json",CONTENT_URL="https://api.hnpwa.com/v0/item/@id.json",store={currentPage:1,feeds:[]};function getData(e){return ajax.open("GET",e,!1),ajax.send(),JSON.parse(ajax.response)}function newsFeed1(){let e=store.feeds;const n=[];let t='\n    <div class="bg-gray-600 min-h-screen">\n      <div class="bg-white text-xl">\n        <div class="mx-auto px-4">\n          <div class="flex justify-between items-center py-6">\n            <div class="flex justify-start">\n              <h1 class="font-extrabold">Hacker News</h1>\n            </div>\n            <div class="items-center justify-end">\n              <a href="#/page/{{__prev_page__}}" class="text-gray-500">\n                Previous\n              </a>\n              <a href="#/page/{{__next_page__}}" class="text-gray-500 ml-4">\n                Next\n              </a>\n            </div>\n          </div> \n        </div>\n      </div>\n      <div class="p-4 text-2xl text-gray-700">\n        {{__news_feed__}}        \n      </div>\n    </div>\n  ';0===e.length&&(e=store.feeds=getData(NEWS_URL));for(let t=10*(store.currentPage-1);t<10*store.currentPage;t++)n.push(`\n      <div class="p-6 ${e[t].read?"bg-red-500":"bg-white"} mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100">\n        <div class="flex">\n          <div class="flex-auto">\n            <a href="#/show/${e[t].id}">${e[t].title}</a>  \n          </div>\n          <div class="text-center text-sm">\n            <div class="w-10 text-white bg-green-300 rounded-lg px-0 py-2">${e[t].comments_count}</div>\n          </div>\n        </div>\n        <div class="flex mt-3">\n          <div class="grid grid-cols-3 text-sm text-gray-500">\n            <div><i class="fas fa-user mr-1"></i>${e[t].user}</div>\n            <div><i class="fas fa-heart mr-1"></i>${e[t].points}</div>\n            <div><i class="far fa-clock mr-1"></i>${e[t].time_ago}</div>\n          </div>  \n        </div>\n      </div>    \n    `);t=t.replace("{{__news_feed__}}",n.join("")),t=t.replace("{{__prev_page__}}",store.currentPage>1?store.currentPage-1:1),t=t.replace("{{__next_page__}}",store.currentPage+1),container.innerHTML=t}function newsDetail(){const e=location.hash.substr(7),n=getData(CONTENT_URL.replace("@id",e));let t=`\n    <div class="bg-gray-600 min-h-screen pb-8">\n      <div class="bg-white text-xl">\n        <div class="mx-auto px-4">\n          <div class="flex justify-between items-center py-6">\n            <div class="flex justify-start">\n              <h1 class="font-extrabold">Hacker News</h1>\n            </div>\n            <div class="items-center justify-end">\n              <a href="#/page/${store.currentPage}" class="text-gray-500">\n                <i class="fa fa-times"></i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="h-full border rounded-xl bg-white m-6 p-4 ">\n        <h2>${n.title}</h2>\n        <div class="text-gray-400 h-20">\n          ${n.content}\n        </div>\n\n        {{__comments__}}\n\n      </div>\n    </div>\n  `;for(let n=0;n<store.feeds.length;n++)if(store.feeds[n].id===parseInt(e)){store.feeds[n].read=!0;break}container.innerHTML=t.replace("{{__comments__}}",function e(n,t=0){const s=[];for(let a=0;a<n.length;a++)s.push(`\n        <div style="padding-left: ${40*t}px;" class="mt-4">\n          <div class="text-gray-400">\n            <i class="fa fa-sort-up mr-2"></i>\n            <strong>${n[a].user}</strong> ${n[a].time_ago}\n          </div>\n          <p class="text-gray-700">${n[a].content}</p>\n        </div>      \n      `),n[a].comments.length>0&&s.push(e(n[a].comments,t+1));return s.join("")}(n.comments))}function router(){const e=location.hash;e.indexOf("#/page/")>=0?(store.currentPage=Number(e.substr(7)),newsFeed1()):newsDetail()}window.addEventListener("hashchange",router),router();
//# sourceMappingURL=index.226f45e8.js.map
